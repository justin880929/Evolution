<div class=" login-wrapper">
  <!-- SVG 背景放這裡，避免擋到內容 -->
  <div class="svg-background"></div>


  <!-- reset-password.component.html -->
  <div class="authentication-wrapper authentication-basic container-p-y">
    <div class="authentication-inner">
      <!-- 重設密碼卡片 -->
      <div class="card shadow login-box">
        <div class="card-body">
          <!-- Logo -->
          <div class="m-0 app-brand justify-content-center">
            <a href="/" class="app-brand-link gap-2">
              <span class="app-brand-logo demo">
                <img src="../../../assets/img/EvolutionLogo.png" alt="Evolution Logo" width="200"
                  class="logo-img m-0" />
              </span>
            </a>
          </div>

          <h4 class="mb-2">重設密碼 🔒</h4>
          <p class="mb-4">請輸入新密碼以完成帳號重設</p>

          <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" class="mb-3">
            <div class="mb-3">
              <label for="newPassword" class="form-label">新密碼</label>
              <input type="password" class="form-control custom-input" id="newPassword" placeholder="請輸入新密碼"
                formControlName="newPassword" />
              <div class="text-danger mt-1"
                *ngIf="resetForm.get('newPassword')?.invalid && resetForm.get('newPassword')?.touched">
                密碼至少 6 碼
              </div>
            </div>

            <div class="mb-3">
              <label for="confirmPassword" class="form-label">確認密碼</label>
              <input type="password" class="form-control custom-input" id="confirmPassword" placeholder="請再次輸入密碼"
                formControlName="confirmPassword" />
              <div class="text-danger mt-1"
                *ngIf="resetForm.hasError('mismatch') && resetForm.get('confirmPassword')?.touched">
                兩次密碼輸入不一致
              </div>
            </div>

            <div *ngIf="errorMsg" class="text-danger text-center mt-2">
              {{ errorMsg }}
            </div>
            <div *ngIf="successMsg" class="text-success text-center mt-2">
              {{ successMsg }}
            </div>

            <div class="mb-3">
              <button class="btn btn-evolution d-grid w-100 btn-float mb-3" type="submit"
                [disabled]="resetForm.invalid || loading">
                {{ loading ? '處理中...' : '確認重設' }}
              </button>
            </div>
          </form>

          <!-- 成功動畫 -->
          <div *ngIf="successMsg" class="login-success-animation">
            <div class="success-icon">
              <i class="bx bx-check-circle"></i>
            </div>
            <div class="success-text">{{ successMsg }}</div>
          </div>
        </div>
      </div>
      <!-- /重設密碼卡片 -->
    </div>
  </div>
</div>